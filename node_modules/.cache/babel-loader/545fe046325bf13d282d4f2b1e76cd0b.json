{"ast":null,"code":"import React,{useCallback,useEffect,useState}from'react';import{useDispatch,useSelector}from\"react-redux\";import{get_all_countries,get_id_countries}from\"../redux/action\";import CardCountry from'./CardCountry';import Loading from\"../components/Loading.js\";import\"../css/Countries.css\";import Pagination from'./Pagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Countries(){const dispatch=useDispatch();const countries=useSelector(state=>state.countries);const mensaje=useSelector(state=>state.mensaje);const[backcountries,setBackCountries]=useState(0);const[nextcountries,setNextCountries]=useState(9);const[backpage,setBackPage]=useState(0);const[nextpage,setNextPage]=useState(5);const[id,setId]=useState(1);// const [activo, setActivo] = useState(false);\nlet contadorCountries=countries.length;let contadorPage=Math.ceil(countries.length/9.9);const items=10;const page=5;const elementos=Array.from({length:contadorPage},(_,index)=>index+1);const onclickSelectPage=id=>{if(id===1){setBackCountries(items*id-items);setNextCountries(items*id-1);setId(id);return;}setBackCountries(items*id-items-1);setNextCountries(items*id-1);setId(id);};const onclickBackPage=()=>{if(id<=backpage+1)return;if(id<=1)return;if(backcountries<=9){setBackCountries(backcountries-items+1);setNextCountries(nextcountries-items);setId(id-1);return;}setId(id-1);setBackCountries(backcountries-items);setNextCountries(nextcountries-items);};const onclickNextPage=()=>{if(id>=nextpage)return;if(backcountries<9){setBackCountries(backcountries+items-1);setNextCountries(nextcountries+items);setId(id+1);return;}if(nextcountries>=contadorCountries)return;setBackCountries(backcountries+items);setNextCountries(nextcountries+items);setId(id+1);};const onclickChangeBackPage=()=>{if(backpage<1)return;if(id%page===1){setId(id-page);}else if(id%page===0){setId(id-page-page+1);}else{setId(id-page-id%page+1);}setBackPage(backpage-page);setNextPage(nextpage-page);};const onclickChangeNextPage=()=>{if(nextpage>=contadorPage)return;if(id>contadorPage)return;if(id===contadorPage-1){setBackPage(backpage+page);setNextPage(nextpage+1);setId(id+1);return;}if(id%page===1){setId(id+page);}else if(id%page===0){setId(id+1);}else{setId(id+page-id%page+1);}setBackPage(backpage+page);setNextPage(nextpage+page);setBackCountries(items*id-items-1);setNextCountries(items*id-1);};const onclickCallBack=useCallback(()=>{if(id===1){setBackCountries(items*id-items);setNextCountries(items*id-1);setId(id);return;}setBackCountries(items*id-items-1);setNextCountries(items*id-1);setId(id);},[id]);const onclickSelectCardCountrie=idCountrie=>{dispatch(get_id_countries(idCountrie));};useEffect(()=>{!countries.length&&dispatch(get_all_countries());},[countries,dispatch]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Pagination,{elementos:elementos,inicio:backpage,final:nextpage,id:id,onclickSelectPage:onclickSelectPage,onclickNextPage:onclickNextPage,onclickBackPage:onclickBackPage,onclickChangeNextPage:onclickChangeNextPage,onclickChangeBackPage:onclickChangeBackPage,onclickCallBack:onclickCallBack}),/*#__PURE__*/_jsx(\"div\",{className:\"content_countries\",children:countries.length?countries.map(c=>{return/*#__PURE__*/_jsx(CardCountry,{id:c.id,imagen:c.imagen,nombre:c.name,continente:c.continente,poblacion:c.poblacion,onclickSelectCardCountrie:onclickSelectCardCountrie},c.id);}).slice(backcountries,nextcountries):/*#__PURE__*/_jsx(Loading,{mensaje:mensaje})})]});}export default Countries;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useDispatch","useSelector","get_all_countries","get_id_countries","CardCountry","Loading","Pagination","jsx","_jsx","jsxs","_jsxs","Countries","dispatch","countries","state","mensaje","backcountries","setBackCountries","nextcountries","setNextCountries","backpage","setBackPage","nextpage","setNextPage","id","setId","contadorCountries","length","contadorPage","Math","ceil","items","page","elementos","Array","from","_","index","onclickSelectPage","onclickBackPage","onclickNextPage","onclickChangeBackPage","onclickChangeNextPage","onclickCallBack","onclickSelectCardCountrie","idCountrie","Fragment","children","inicio","final","className","map","c","imagen","nombre","name","continente","poblacion","slice"],"sources":["C:/xampp/htdocs/deploy/PI-Countries-main/client_countries_deploy/src/components/Countries.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { get_all_countries, get_id_countries } from \"../redux/action\";\r\n\r\nimport CardCountry from './CardCountry';\r\nimport Loading from \"../components/Loading.js\";\r\n\r\nimport \"../css/Countries.css\";\r\nimport Pagination from './Pagination';\r\n\r\nfunction Countries() {\r\n\r\n  const dispatch = useDispatch();\r\n  const countries = useSelector((state) => state.countries);\r\n  const mensaje = useSelector((state) => state.mensaje);\r\n\r\n  const [backcountries, setBackCountries] = useState(0);\r\n  const [nextcountries, setNextCountries] = useState(9);\r\n  const [backpage, setBackPage] = useState(0);\r\n  const [nextpage, setNextPage] = useState(5);\r\n\r\n  const [id, setId] = useState(1);\r\n\r\n  // const [activo, setActivo] = useState(false);\r\n\r\n  let contadorCountries = countries.length;\r\n  let contadorPage = Math.ceil(countries.length / 9.9);\r\n  const items = 10;\r\n  const page = 5;\r\n\r\n  const elementos = Array.from({ length: contadorPage }, (_, index) => index + 1);\r\n\r\n  const onclickSelectPage = (id) => {\r\n\r\n    if (id === 1) {\r\n      setBackCountries((items * id) - items);\r\n      setNextCountries((items * id) - 1);\r\n      setId(id);\r\n      return\r\n    }\r\n\r\n    setBackCountries(((items * id) - items) - 1);\r\n    setNextCountries((items * id) - 1);\r\n    setId(id);\r\n\r\n  }\r\n\r\n  const onclickBackPage = () => {\r\n\r\n    if (id <= (backpage + 1)) return\r\n\r\n    if (id <= 1) return\r\n\r\n    if (backcountries <= 9) {\r\n      setBackCountries((backcountries - items) + 1);\r\n      setNextCountries(nextcountries - items);\r\n      setId(id - 1)\r\n      return\r\n    }\r\n\r\n    setId(id - 1);\r\n    setBackCountries(backcountries - items);\r\n    setNextCountries(nextcountries - items);\r\n\r\n  }\r\n\r\n  const onclickNextPage = () => {\r\n\r\n    if (id >= nextpage) return\r\n\r\n    if (backcountries < 9) {\r\n      setBackCountries((backcountries + items) - 1);\r\n      setNextCountries(nextcountries + items);\r\n      setId(id + 1)\r\n      return\r\n    }\r\n\r\n    if (nextcountries >= contadorCountries) return\r\n\r\n    setBackCountries(backcountries + items);\r\n    setNextCountries(nextcountries + items);\r\n    setId(id + 1)\r\n\r\n  }\r\n\r\n  const onclickChangeBackPage = () => {\r\n    \r\n    if (backpage < 1) return\r\n    \r\n    if ((id % page) === 1) {\r\n      setId(id - page);\r\n      \r\n    }else if((id % page) === 0){\r\n      setId(((id - page) - page) + 1);\r\n    }else{\r\n      setId(((id - page) - (id % page)) + 1);\r\n    }\r\n    setBackPage(backpage - page);\r\n    setNextPage(nextpage - page);\r\n  };\r\n\r\n  const onclickChangeNextPage = () => {\r\n    if (nextpage >= contadorPage) return\r\n\r\n    if (id > contadorPage) return\r\n\r\n    if (id === (contadorPage - 1)) {\r\n      setBackPage(backpage + page);\r\n      setNextPage(nextpage + 1);\r\n      setId(id + 1);\r\n      return\r\n    }\r\n\r\n    if ((id % page) === 1) {\r\n      setId(id + page);\r\n      \r\n    }else if((id % page) === 0) {\r\n      setId(id + 1);\r\n    }else{\r\n      setId(((id + page) - (id % page)) + 1);\r\n    }\r\n    setBackPage(backpage + page);\r\n    setNextPage(nextpage + page);\r\n    setBackCountries(((items * id) - items) - 1);\r\n    setNextCountries((items * id) - 1);\r\n  };\r\n\r\n  const onclickCallBack = useCallback(() => {\r\n    if (id === 1) {\r\n      setBackCountries((items * id) - items);\r\n      setNextCountries((items * id) - 1);\r\n      setId(id);\r\n      return\r\n    }\r\n    setBackCountries(((items * id) - items) - 1);\r\n    setNextCountries((items * id) - 1);\r\n    setId(id);\r\n  }, [id]);\r\n\r\n  const onclickSelectCardCountrie = (idCountrie) => {\r\n    dispatch(get_id_countries(idCountrie));\r\n  };\r\n\r\n  useEffect(() => {\r\n    !countries.length && dispatch(get_all_countries());\r\n  }, [countries, dispatch]);\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <Pagination elementos={elementos} inicio={backpage} final={nextpage} id={id} onclickSelectPage={onclickSelectPage} onclickNextPage={onclickNextPage} onclickBackPage={onclickBackPage} onclickChangeNextPage={onclickChangeNextPage} onclickChangeBackPage={onclickChangeBackPage} onclickCallBack={onclickCallBack} />\r\n\r\n      <div className='content_countries'>\r\n        {\r\n          countries.length ? countries.map((c) => {\r\n            return (\r\n              <CardCountry key={c.id} id={c.id} imagen={c.imagen} nombre={c.name} continente={c.continente} poblacion={c.poblacion} onclickSelectCardCountrie={onclickSelectCardCountrie}/>\r\n            )\r\n          }).slice(backcountries, nextcountries) :\r\n          <Loading mensaje={mensaje}/>\r\n        }\r\n      </div>\r\n\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Countries;"],"mappings":"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"},"metadata":{},"sourceType":"module"}